<div *ngIf="!gridUltimeFirme && visualizzaFESeCiSonoPermessi" class="casellaWidget" style="background-color: #039be5; overflow: hidden !important; height: 250px;">
    <div style="width: 100%; height: 25px;">
        <div style="float: left; width: 70%; text-align: center; padding-left: 30%;">
            <span class="titolo bianco grassetto">Firme da conv.</span>
        </div>
        <div style="float: left; width: 30%; text-align: right;">
            <mat-icon title="Visualizza Tutto" style="cursor: pointer; color: white;" (click)="visualizzaTutto()">visibility</mat-icon>
            <mat-icon title="Refresh" style="cursor: pointer; color: white;" (click)="caricaUltimeFirme()">refresh</mat-icon>
        </div>
    </div>
    <div style="clear: both;"></div>
    <div style="width: 100%; height: calc(100% - 30px); overflow: auto; border: 1px solid #999; background-color: white;">
        Nessuna Firma da convalidare
    </div>
</div>

<div *ngIf="gridUltimeFirme && visualizzaFESeCiSonoPermessi" class="casellaWidget" style="background-color: #039be5; overflow: hidden !important; height: 220px;">
    <div style="width: 100%; height: 25px;">
        <div style="float: left; width: 70%; text-align: center; padding-left: 30%;">
            <span class="testo bianco grassetto">Firme da convalidare</span>
        </div>
        <div style="float: left; width: 30%; text-align: right;">
            <mat-icon title="Visualizza Tutto" style="cursor: pointer; color: white;" (click)="visualizzaTutto()">visibility</mat-icon>
            <mat-icon title="Refresh" style="cursor: pointer; color: white;" (click)="caricaUltimeFirme('N')">refresh</mat-icon>
        </div>
    </div>
    <div style="width: 100%; height: calc(100% - 30px); overflow: auto; border: 1px solid #999; background-color: white;">
        <table style="width: 100%;" cellpadding="0" cellspacing ="3">
            <tr style="border-bottom: 1px solid #999;">
                <th></th>
                <th></th>
                <th></th>
                <th><span class="testo">Giocatore</span></th>
                <th><span class="testo">Tipo Firma</span></th>
                <th><span class="testo">Nome Firmatario</span></th>
                <th><span class="testo">Data Firma</span></th>
            </tr>
            <tr *ngFor="let item of gridUltimeFirme; index as i;">
                <td>
                    <mat-icon title="Visualizza firma" style="cursor: pointer;" (click)="visualizzaFirma(item)">remove_red_eye</mat-icon>
                </td>
                <td>
                    <mat-icon title="Convalida firma" style="cursor: pointer;" (click)="convalidaFirma(item)">bookmark</mat-icon>
                </td>
                <td>
                    <mat-icon title="Elimina firma" style="cursor: pointer;" (click)="eliminaFirma(item)">delete</mat-icon>
                </td>
                <td>
                    <span class="testo">{{item.NomeGiocatore}}</span>
                </td>
                <td>
                    <span class="testo">{{item.Genitore}}</span>
                </td>
                <td>
                    <span class="testo">{{item.NomeGenitore}}</span>
                </td>
                <td>
                    <span class="testo">{{item.DataFirma}}</span>
                </td>
            </tr>
        </table>
    </div>
</div>

<div *ngIf="visualizzaFirmaElettronica" class="oscura2"></div>

<div *ngIf="visualizzaFirmaElettronica" 
        style="position: absolute; z-index: 9999; width: 40%; height: 30%; top: 30%; left: 30%; 
            background-color: white; border: 1px solid #999; border-radius: 5px;">
    <div style="width: 100%; height: 30px; text-align: right;">
        <mat-icon title="Chiude maschera" style="cursor: pointer; position: relative; z-index: 1002;" (click)="chiudeMascheraFirma()">cancel</mat-icon>
    </div>
    <!-- <img [src]="nomeImmagineFirma" style="width: 100%; height: 100%; margin-top: -25px; z-index: 1000;"> -->
    <div style="width: 100%; height: 100%; margin-top: -25px; z-index: 1000;">
        <immagine_griglia-component
            [stilePassato]="{'width': '100%', 'height': '100%', 'margin-top': '-25px', 'z-index': '1000'}"
            [immagine]="nomeImmagineFirma"
        >
        </immagine_griglia-component>                                
    </div>
</div>

<div *ngIf="mascheraFirme == true" class="oscura"></div>
<div *ngIf="mascheraFirme == true" class="mascheraFirme">
    <div style="width: 100%; height: 90%; float: left; border: 1px solid #999; overflow: auto;">
        <table style="width: 100%; background-color: white;" cellpadding="0" cellspacing ="3">
            <tr style="border-bottom: 1px solid #999;">
                <th></th>
                <th></th>
                <th></th>
                <th><span class="testo">Giocatore</span></th>
                <th><span class="testo">Tipo Firma</span></th>
                <th><span class="testo">Nome Firmatario</span></th>
                <th><span class="testo">Data Firma</span></th>
            </tr>
            <tr *ngFor="let item of gridTutteFirme; index as i;">
                <td>
                    <mat-icon title="Visualizza firma" style="cursor: pointer;" (click)="visualizzaFirma(item)">remove_red_eye</mat-icon>
                </td>
                <td>
                    <mat-icon title="Convalida firma" style="cursor: pointer;" (click)="convalidaFirma(item)">bookmark</mat-icon>
                </td>
                <td>
                    <mat-icon title="Elimina firma" style="cursor: pointer;" (click)="eliminaFirma(item)">delete</mat-icon>
                </td>
                <td>
                    <span class="testo">{{item.NomeGiocatore}}</span>
                </td>
                <td>
                    <span class="testo">{{item.Genitore}}</span>
                </td>
                <td>
                    <span class="testo">{{item.NomeGenitore}}</span>
                </td>
                <td>
                    <span class="testo">{{item.DataFirma}}</span>
                </td>
            </tr>
        </table>
    </div>
    <div style="
        width: 100%;
        height: 10%;
        float: left;
        text-align: center;
        background-color: #b3cde0;
        -webkit-box-shadow: 0px -5px 15px -5px rgba(0,0,0,0.75);
        -moz-box-shadow: 0px -5px 153px -5px rgba(0,0,0,0.75);
        box-shadow: 0px -5px 15px -5px rgba(0,0,0,0.75);
    ">
        <button mat-raised-button type="button" style="margin-top: 6px;" color="warn" (click)="mascheraFirme = false;">
            Chiudi
        </button>
    </div>
</div>
